
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}


            <!-- 主要内容 -->
            <div id="container" class="container" style="overflow:auto">
                <div id="findingAnalysis" class="box">
                </div>
            </div>
      

<script type="text/javascript" src="@Url.Content("~/js/pivottable/jquery-1.8.3.min.js")"></script>
<script type="text/javascript" src='@Url.Content("~/js/pivottable/jquery-ui-1.9.2.custom.min.js")'></script>
<script src="@Url.Content("~/js/pivottable/jquery.dataTables.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/js/pivottable/dataTables.bootstrap.js")" type="text/javascript"></script>
<link rel="stylesheet" href="@Url.Content("~/js/pivottable/pivot.css")" />
<script src="@Url.Content("~/js/pivottable/highcharts.js")" type="text/javascript"></script>
<script type="text/javascript" src='@Url.Content("~/js/pivottable/pivot.js")'></script>
<script type="text/javascript" src='@Url.Content("~/js/pivottable/get_highcharts.js")'></script>
<script type="text/javascript" src='@Url.Content("~/js/pivottable/gchart_renderers.js")'></script>
<style>
    #findingAnalysis table {
        width: 100%;
    }

        #findingAnalysis table tr > td:first-child {
            width: 100px;
        }

    .resultClass, .container {
        width: 100%;
    }
</style>

<script type="text/javascript">


        $(document).ready(function () {
            var derivers = $.pivotUtilities.derivers;
            var renderers = $.extend($.pivotUtilities.renderers, $.pivotUtilities.gchart_renderers);
            $("#container").width($(window).width()*0.8);
            $.getJSON('@Url.Content("~/Xwowmall/GetPivottable")', function (mps) {
               
                $("#findingAnalysis").pivotUI(mps, {
                    renderers: renderers,
                    unusedAttrsVertical: false,
                    rows: ["日期"],
                    cols: ["三级分类"],
                    aggregatorName: "Sum",
                    vals: ["销售数量"],
                    rendererName: "Table"
                });

            })


        });


</script>
